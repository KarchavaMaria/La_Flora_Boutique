{"ast":null,"code":"import axios from'axios';import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';export const fetchAllProducts=createAsyncThunk('products/fetchAllProducts',async(_,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.get('http://localhost:5050/api/products');return response.data;}catch(error){var _error$response,_error$response$data;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);}});export const fetchProductById=createAsyncThunk('products/fetchProductById',async(id,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await axios.get(\"http://localhost:5050/api/products/\".concat(id));return response.data;}catch(error){var _error$response2,_error$response2$data;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message);}});export const fetchProductsByCategory=createAsyncThunk('products/fetchProductsByCategory',async(categoryId,_ref3)=>{let{rejectWithValue}=_ref3;try{const response=await axios.get(\"http://localhost:5050/api/products/category/\".concat(categoryId));return response.data;}catch(error){var _error$response3,_error$response3$data;return rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message);}});const productsSlice=createSlice({name:'products',initialState:{all:{items:[],status:'idle',error:null},selected:{item:null,status:'idle',error:null},filtered:{itemsByCategory:{},statusByCategory:{},errorByCategory:{}}},reducers:{},extraReducers:builder=>{builder.addCase(fetchAllProducts.pending,state=>{state.all.status='loading';}).addCase(fetchAllProducts.fulfilled,(state,action)=>{state.all.status='succeeded';state.all.items=action.payload;}).addCase(fetchAllProducts.rejected,(state,action)=>{state.all.status='failed';state.all.error=action.payload||action.error.message;}).addCase(fetchProductById.pending,state=>{state.selected.status='loading';}).addCase(fetchProductById.fulfilled,(state,action)=>{state.selected.status='succeeded';state.selected.item=action.payload;}).addCase(fetchProductById.rejected,(state,action)=>{state.selected.status='failed';state.selected.error=action.payload||action.error.message;}).addCase(fetchProductsByCategory.pending,(state,action)=>{const categoryId=action.meta.arg;state.filtered.statusByCategory[categoryId]='loading';}).addCase(fetchProductsByCategory.fulfilled,(state,action)=>{const categoryId=action.meta.arg;state.filtered.statusByCategory[categoryId]='succeeded';state.filtered.itemsByCategory[categoryId]=action.payload;}).addCase(fetchProductsByCategory.rejected,(state,action)=>{const categoryId=action.meta.arg;state.filtered.statusByCategory[categoryId]='failed';state.filtered.errorByCategory[categoryId]=action.payload||action.error.message;});}});export default productsSlice.reducer;","map":{"version":3,"names":["axios","createAsyncThunk","createSlice","fetchAllProducts","_","_ref","rejectWithValue","response","get","data","error","_error$response","_error$response$data","message","fetchProductById","id","_ref2","concat","_error$response2","_error$response2$data","fetchProductsByCategory","categoryId","_ref3","_error$response3","_error$response3$data","productsSlice","name","initialState","all","items","status","selected","item","filtered","itemsByCategory","statusByCategory","errorByCategory","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","meta","arg","reducer"],"sources":["/Users/test/Desktop/Flowers/my-app/client/src/store/productsSlice.js"],"sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\nexport const fetchAllProducts = createAsyncThunk(\n  'products/fetchAllProducts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await axios.get('http://localhost:5050/api/products');\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.response?.data?.message || error.message);\n    }\n  }\n);\n\nexport const fetchProductById = createAsyncThunk(\n  'products/fetchProductById',\n  async (id, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(\n        `http://localhost:5050/api/products/${id}`\n      );\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.response?.data?.message || error.message);\n    }\n  }\n);\n\nexport const fetchProductsByCategory = createAsyncThunk(\n  'products/fetchProductsByCategory',\n  async (categoryId, { rejectWithValue }) => {\n    try {\n      const response = await axios.get(\n        `http://localhost:5050/api/products/category/${categoryId}`\n      );\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.response?.data?.message || error.message);\n    }\n  }\n);\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState: {\n    all: {\n      items: [],\n      status: 'idle',\n      error: null,\n    },\n    selected: {\n      item: null,\n      status: 'idle',\n      error: null,\n    },\n    filtered: {\n      itemsByCategory: {},\n      statusByCategory: {},\n      errorByCategory: {},\n    },\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAllProducts.pending, (state) => {\n        state.all.status = 'loading';\n      })\n\n      .addCase(fetchAllProducts.fulfilled, (state, action) => {\n        state.all.status = 'succeeded';\n        state.all.items = action.payload;\n      })\n      .addCase(fetchAllProducts.rejected, (state, action) => {\n        state.all.status = 'failed';\n        state.all.error = action.payload || action.error.message;\n      })\n      .addCase(fetchProductById.pending, (state) => {\n        state.selected.status = 'loading';\n      })\n      .addCase(fetchProductById.fulfilled, (state, action) => {\n        state.selected.status = 'succeeded';\n        state.selected.item = action.payload;\n      })\n      .addCase(fetchProductById.rejected, (state, action) => {\n        state.selected.status = 'failed';\n        state.selected.error = action.payload || action.error.message;\n      })\n      .addCase(fetchProductsByCategory.pending, (state, action) => {\n        const categoryId = action.meta.arg;\n        state.filtered.statusByCategory[categoryId] = 'loading';\n      })\n      .addCase(fetchProductsByCategory.fulfilled, (state, action) => {\n        const categoryId = action.meta.arg;\n        state.filtered.statusByCategory[categoryId] = 'succeeded';\n        state.filtered.itemsByCategory[categoryId] = action.payload;\n      })\n      .addCase(fetchProductsByCategory.rejected, (state, action) => {\n        const categoryId = action.meta.arg;\n        state.filtered.statusByCategory[categoryId] = 'failed';\n        state.filtered.errorByCategory[categoryId] =\n          action.payload || action.error.message;\n      });\n  },\n});\n\nexport default productsSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}