{"ast":null,"code":"var _jsxFileName = \"/Users/test/Desktop/Flowers/my-app/client/src/components/products/productsList/ProductsList.jsx\",\n  _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useMemo } from 'react';\nimport { fetchAllProducts, fetchProductsByCategory } from '../../../store/productsSlice';\nimport styles from './ProductsList.module.scss';\nimport ProductsCard from '../ProductsCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductsList = ({\n  start = 0,\n  limit,\n  categoryId\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const allState = useSelector(state => state.products.all);\n  const filteredStateByCategory = useSelector(state => state.products.filtered.itemsByCategory || {});\n  const filteredStatusByCategory = useSelector(state => state.products.filtered.statusByCategory || {});\n  const filteredErrorByCategory = useSelector(state => state.products.filtered.errorByCategory || {});\n  const filteredState = filteredStateByCategory[categoryId] || [];\n  const filteredStatus = filteredStatusByCategory[categoryId] || 'idle';\n  const filteredError = filteredErrorByCategory[categoryId] || null;\n  const rawProducts = categoryId ? filteredState : allState.items;\n  const products = Array.isArray(rawProducts) ? rawProducts : [];\n  const status = categoryId ? filteredStatus : allState.status || 'idle';\n  const error = categoryId ? filteredError : allState.error || null;\n  useEffect(() => {\n    if (categoryId) {\n      dispatch(fetchProductsByCategory(categoryId));\n    } else {\n      dispatch(fetchAllProducts());\n    }\n  }, [dispatch, categoryId]);\n  const displayedProducts = useMemo(() => {\n    if (!(products !== null && products !== void 0 && products.length)) return [];\n    return limit ? products.slice(start, start + limit) : products;\n  }, [products, start, limit]);\n  if (status === 'loading') return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 36\n  }, this);\n  if (status === 'error') return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 34\n  }, this);\n  if (status === 'failed') return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error:\", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 35\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.grid,\n    children: displayedProducts.map(product => /*#__PURE__*/_jsxDEV(ProductsCard, {\n      product: product\n    }, product.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductsList, \"reUyzcVYpezApzXSXE+3qHj+UeY=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = ProductsList;\nexport default ProductsList;\nvar _c;\n$RefreshReg$(_c, \"ProductsList\");","map":{"version":3,"names":["useDispatch","useSelector","useEffect","useMemo","fetchAllProducts","fetchProductsByCategory","styles","ProductsCard","jsxDEV","_jsxDEV","ProductsList","start","limit","categoryId","_s","dispatch","allState","state","products","all","filteredStateByCategory","filtered","itemsByCategory","filteredStatusByCategory","statusByCategory","filteredErrorByCategory","errorByCategory","filteredState","filteredStatus","filteredError","rawProducts","items","Array","isArray","status","error","displayedProducts","length","slice","children","fileName","_jsxFileName","lineNumber","columnNumber","className","grid","map","product","id","_c","$RefreshReg$"],"sources":["/Users/test/Desktop/Flowers/my-app/client/src/components/products/productsList/ProductsList.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useMemo } from 'react';\nimport {\n  fetchAllProducts,\n  fetchProductsByCategory,\n} from '../../../store/productsSlice';\nimport styles from './ProductsList.module.scss';\nimport ProductsCard from '../ProductsCard';\n\nconst ProductsList = ({ start = 0, limit, categoryId }) => {\n  const dispatch = useDispatch();\n\n  const allState = useSelector((state) => state.products.all);\n  const filteredStateByCategory = useSelector(\n    (state) => state.products.filtered.itemsByCategory || {}\n  );\n  const filteredStatusByCategory = useSelector(\n    (state) => state.products.filtered.statusByCategory || {}\n  );\n  const filteredErrorByCategory = useSelector(\n    (state) => state.products.filtered.errorByCategory || {}\n  );\n\n  const filteredState = filteredStateByCategory[categoryId] || [];\n  const filteredStatus = filteredStatusByCategory[categoryId] || 'idle';\n  const filteredError = filteredErrorByCategory[categoryId] || null;\n\n  const rawProducts = categoryId ? filteredState : allState.items;\n  const products = Array.isArray(rawProducts) ? rawProducts : [];  const status = categoryId ? filteredStatus : allState.status || 'idle';\n  const error = categoryId ? filteredError : allState.error || null;\n\n  useEffect(() => {\n    if (categoryId) {\n      dispatch(fetchProductsByCategory(categoryId));\n    } else {\n      dispatch(fetchAllProducts());\n    }\n  }, [dispatch, categoryId]);\n\n  const displayedProducts = useMemo(() => {\n    if (!products?.length) return [];\n    return limit ? products.slice(start, start + limit) : products;\n  }, [products, start, limit]);\n\n  if (status === 'loading') return <p>Loading...</p>;\n  if (status === 'error') return <p>Error...</p>;\n  if (status === 'failed') return <p>Error:{error}</p>;\n\n  return (\n    <section className={styles.grid}>\n      {displayedProducts.map((product) => (\n        <ProductsCard key={product.id} product={product} />\n      ))}\n    </section>\n  );\n};\nexport default ProductsList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}