{"ast":null,"code":"var _jsxFileName = \"/Users/test/Desktop/Flowers/my-app/client/src/pages/favoritesPage/btnFavorites/BtnFavorites.jsx\",\n  _s = $RefreshSig$();\nimport styles from './BtnFavorites.module.scss';\nimport iconLikeTrue from '../../../assets/icons/icon_like_true.png';\nimport iconLike from '../../../assets/icons/icon_like.png';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, deleteFavorite } from '../../../store/favoriteSlice';\nimport axios from 'axios';\nimport { API_URL } from '../../../api/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BtnFavorites = ({\n  product\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.auth.user);\n  const token = useSelector(state => state.auth.token);\n  const favorites = useSelector(state => state.favorites.favorites) || [];\n  const isFavorite = Array.isArray(favorites) && favorites.some(f => f.id === product.id);\n  const addFavouriteHandler = async () => {\n    if (user !== null && user !== void 0 && user.id) {\n      await axios.post(`${API_URL}/api/favorites`, {\n        user_id: user.id,\n        product_id: product.id\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n    }\n    dispatch(addFavorite(product));\n  };\n  const deleteFavouriteHandler = async () => {\n    if (user !== null && user !== void 0 && user.id) {\n      await axios.delete(`http://localhost:5050/api/favorites`, {\n        data: {\n          user_id: user.id,\n          product_id: product.id\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n    }\n    dispatch(deleteFavorite(product));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.btnFavorites,\n    children: isFavorite ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.btnFavorites,\n      onClick: deleteFavouriteHandler,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: '30px'\n        },\n        src: iconLikeTrue,\n        alt: \"like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.btnFavorites,\n      onClick: addFavouriteHandler,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: '30px'\n        },\n        src: iconLike,\n        alt: \"like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(BtnFavorites, \"bCYOr+Qxfkiw+D8Qm65oO7aihMI=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = BtnFavorites;\nexport default BtnFavorites;\nvar _c;\n$RefreshReg$(_c, \"BtnFavorites\");","map":{"version":3,"names":["styles","iconLikeTrue","iconLike","useDispatch","useSelector","addFavorite","deleteFavorite","axios","API_URL","jsxDEV","_jsxDEV","BtnFavorites","product","_s","dispatch","user","state","auth","token","favorites","isFavorite","Array","isArray","some","f","id","addFavouriteHandler","post","user_id","product_id","headers","Authorization","deleteFavouriteHandler","delete","data","className","btnFavorites","children","onClick","style","width","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/test/Desktop/Flowers/my-app/client/src/pages/favoritesPage/btnFavorites/BtnFavorites.jsx"],"sourcesContent":["import styles from './BtnFavorites.module.scss';\nimport iconLikeTrue from '../../../assets/icons/icon_like_true.png';\nimport iconLike from '../../../assets/icons/icon_like.png';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, deleteFavorite } from '../../../store/favoriteSlice';\nimport axios from 'axios';\nimport { API_URL } from '../../../api/config';\n\nconst BtnFavorites = ({ product }) => {\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => state.auth.user);\n  const token = useSelector((state) => state.auth.token);\n  const favorites = useSelector((state) => state.favorites.favorites) || [];\n  const isFavorite = Array.isArray(favorites) && favorites.some((f) => f.id === product.id);\n\n  const addFavouriteHandler = async () => {\n    if (user?.id) {\n      await axios.post(\n        `${API_URL}/api/favorites`,\n        {\n          user_id: user.id,\n          product_id: product.id,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n    }\n    dispatch(addFavorite(product));\n  };\n\n  const deleteFavouriteHandler = async () => {\n    if (user?.id) {\n      await axios.delete(`http://localhost:5050/api/favorites`, {\n        data: {\n          user_id: user.id,\n          product_id: product.id,\n        },\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n    }\n    dispatch(deleteFavorite(product));\n  };\n\n  return (\n    <div className={styles.btnFavorites}>\n      {isFavorite ? (\n        <button\n          className={styles.btnFavorites}\n          onClick={deleteFavouriteHandler}\n        >\n          <img style={{ width: '30px' }} src={iconLikeTrue} alt=\"like\" />\n        </button>\n      ) : (\n        <button className={styles.btnFavorites} onClick={addFavouriteHandler}>\n          <img style={{ width: '30px' }} src={iconLike} alt=\"like\" />\n        </button>\n      )}\n    </div>\n  );\n};\nexport default BtnFavorites;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}